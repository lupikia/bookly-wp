/*
 |--------------------------------------------------------------------------
 | 6. Partials / Ajax Stuff Styles
 |--------------------------------------------------------------------------
 */

body.doing-ajax {
    overflow-y hidden
}

.doing-ajax {
    position relative
    &::before {
        content ''
        position absolute
        top 0
        right 0
        bottom 0
        left 0
        width 100%
        height 100%
        background-color transparentify($theme_color, $theme_color, .6)
        z-index 999
    }
    &-btn {
        &::before {
            background-color transparent
            border-radius $border-radius
        }
        .loader.ajax-loader {
            position absolute
            .circular {
                .path {
                    stroke $font_header_color
                }
            }
        }
    }
    &.input-group-wrapper.doing-ajax-btn .loader.ajax-loader {
        left auto
        right -25px
        transform translate(0, -50%)
        .circular {
            .path {
                stroke $font_color
            }
        }
    }
    &.container-search {
        &::before {
            //background-color transparentify($white, $white, .9)
            border-top 1px solid
            border-color $border-color
        }
    }
}

button,
.single-listing-video-wrapper.doing-ajax {
    position relative
    .loader {
        position absolute
    }
}

.input-group-append {
    .loader {
        position absolute
    }
}

$width = 100px
.loader {
    position fixed
    background-image none
    width $width
    height $width
    left 50%
    top 50%
    transform translate(-50%, -50%)
    z-index 9999
    .circular {
        position relative
        animation rotate 2s linear infinite
        height $width
        width $width
    }
    .path {
        stroke-dasharray 1, 200
        stroke-dashoffset 0
        animation dash 1.5s ease-in-out infinite
        stroke-linecap round
        stroke $white
    }
    p {
        display none
        margin-top -.7rem
    }
}

// submit listing loader
.submit-listing {
    position relative
    .btn.btn-primary.disabled {
        opacity 1
        background-color $primary
        border-color $primary
        color $primary
        & + .loader {
            display block
        }
    }
    .loader {
        display none
        position absolute
        top auto
        bottom rem(-25px)
        transform translate(-50%, 0)
    }
}

@keyframes rotate {
    100% {
        transform rotate(360deg)
    }
}

@keyframes dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124;
    }
}

@keyframes color {
    100%, 0% {
        stroke $font_color, 20%
    }
}

@keyframes anim-effect-radomir {
    0% {
        opacity: 1;
        box-shadow: inset 0 0 0 3px transparentify($white, $white, .8);
        -webkit-transform: scale3d(0.4, 0.4, 1);
        transform: scale3d(0.4, 0.4, 1);
    }
    60% {
        box-shadow: inset 0 0 0 6px transparentify($primary, $primary, .8);
        opacity: .1;
    }
    100% {
        box-shadow: inset 0 0 0 4px rgba(255, 255, 255, .8);
        opacity: 0;
        -webkit-transform: scale3d(1.2, 1.2, 1);
        transform: scale3d(1.2, 1.2, 1);
    }
}

.woocommerce {
    .loader.ajax-loader {
        &::before {
            display none
        }
    }
}
