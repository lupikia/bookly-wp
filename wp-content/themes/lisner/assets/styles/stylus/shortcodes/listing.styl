/*
 |--------------------------------------------------------------------------
 | 12. Shortcodes / Listing Styles
 |--------------------------------------------------------------------------
 */

.lisner-listing {
    .col-lg-9 {
        div[class^=col-] {
            padding 0 rem(7px)
            margin-bottom rem(20px)
        }
    }
    &-item {
        margin-bottom rem(15px)
        height 100%
        background-color $white
        border-radius $border-radius
        box-shadow $box-shadow-listing
        overflow hidden
    }
    &-figure {
        position relative
        margin 0
        background-color #37003c
        height 222px
        overflow hidden
        transition()
        img {
            position absolute
            top 0
            left 0
            width 100%
            height 100%
            object-fit cover
            opacity .8
            transition()
        }
        &:hover {
            img {
                opacity .7
                transition()
            }
            .listing-preview-call {
                span {
                    left 0
                    opacity 1
                    transition(.5s)
                }
            }
        }
    }
    &-likes {
        position absolute
        top rem(25px)
        right rem(25px)
        display flex
        flex-direction column
        align-items center
        z-index 1
        .listing-likes {
            &-call {
                line-height 1
                color $white
                -webkit-transition: color 0.7s;
                transition: color 0.7s;
                -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
                i {
                    font-size 28px
                }
                &:hover {
                    color $white
                    text-decoration none
                }
                &::after {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    margin: -47px 0 0 -35px;
                    width: 70px;
                    height: 70px;
                    border-radius: 50%;
                    content: '';
                    opacity: 0;
                    pointer-events: none;
                    transform: scale3d(1.2, 1.2, 1) translate(-50%, -50%);
                }
                &.activated,
                &.active {
                    color $primary
                    transition(1s)
                }
                &.active::after {
                    animation: anim-effect-radomir 1s ease-out forwards;
                }
            }
            &-count {
                font-size 14px
                line-height 1
                color $white
            }
        }
    }
    &-preview-call {
        position absolute
        bottom rem(20px)
        right rem(30px)
        z-index 1
        a {
            display flex
            justify-content center
            align-items center
            font-size 14px
            font-weight 400
            color $white
            opacity .5
            span {
                position relative
                opacity 0
            }
            i {
                margin-left rem(5px)
                font-size 18px
            }
            &:hover {
                opacity 1
                text-decoration none
            }
        }
    }
    &-meta {
        display flex
        align-items flex-start
        justify-content space-between
        &:not(:last-child ) {
            margin-bottom rem(15px)
        }
        address {
            display flex
            align-items flex-start
            margin 0
            font-size 14px
            line-height 1
            color $font_header_color
            i {
                position relative
                top rem(-2px)
                margin-right rem(5px)
                font-size 18px
                color $theme_color
            }
        }
    }
    &-price-range {
        position relative
        top rem(-3px)
        display flex
        padding 0 rem(5px)
        border-left 1px solid
        border-right 1px solid
        border-color $border-color
        @media (min-width: 600px) {
            margin-left auto
        }
        i {
            font-size 18px
            line-height 1
            color #b8b8b8
            &:not(:last-child) {
                margin-right -7px
            }
        }
        &-cheap {
            i:first-child {
                color $font_header_color
            }
        }
        &-moderate {
            i:nth-child(-n+2) {
                color $font_header_color
            }
        }
        &-expensive {
            i:nth-child(-n+3) {
                color $font_header_color
            }
        }
        &-ultra {
            i {
                color $font_header_color
            }
        }
    }
    &-content {
        position relative
        padding rem(25px) rem(20px)
        background-color $white
    }
    &-title-block {
        display flex
        align-items baseline
        margin-bottom rem(15px)
    }
    &-title {
        margin 0
        line-height 1.3
        a {
            position relative
            font-weight 700
            font-size 26px
            line-height 1
            color $font_header_color
            &:hover {
                text-decoration none
            }
        }
    }
    &-promoted {
        position relative
        top -2px
        margin-right rem(7px)
        padding rem(2px) rem(5px)
        border 2px solid
        border-color $warning
        border-radius $border-radius
        font-size 12px
        font-weight 600
        line-height 1
        text-transform uppercase
    }
    &-featured {
        position absolute
        top auto
        bottom 23px
        left 23px
        border-color $white
        color $white
        &.has-logo {
            bottom 53px
        }
    }
    &-claimed {
        position relative
        top rem(-8px)
        width 0
        font-size 16px
    }
    &-description {
        margin-bottom rem(30px)
        line-height 1.65
    }
    &-meta {
        &:last-child {
            justify-content flex-start
            align-items center
        }
        &-rating {
            margin-right rem(15px)
            padding rem(2.5px) rem(11px)
            border 2px solid
            border-radius $border-radius
            border-color $disabled
            font-size 14px
            font-weight 600
            line-height 14px
            &.color-success {
                border-color $success
            }
        }
        &-category {
            margin-right rem(10px)
            padding-right rem(10px)
            border-right 1px solid
            border-color $border-color
        }
        &-open,
        &-category {
            display flex
            align-items center
            font-size 14px
            font-weight 600
            a {
                display flex
                align-items center
                max-width 105px
                white-space nowrap
                text-overflow ellipsis
                overflow hidden
                font-size 14px
                color $font_header_color
                &:hover {
                    text-decoration none
                }
            }
            i {
                margin-right rem(5px)
                font-size 18px
            }
            &.has-review {
                padding 0 rem(10px)
                border-left 1px solid
                border-right 1px solid
                border-color $border-color
            }
            &.is-open {
                color $tertiary
            }
            &.is-closed {
                color $error
            }
        }
    }
}

// listing element loader
.lisner_listings-load {
    display flex
    flex-wrap wrap
    justify-content flex-start
    margin 0
    &.map-active {
        .listing-load-item {
            flex 0 0 33.33333%
            max-width 33.33333%
            &:nth-child(n+4) {
                margin-top rem(15px)
            }
        }
    }
}

.search-template-2.listing-box-style {
    &-grid,
    &-list,
    &-promo,
    &-small {
        .lisner_listings-load {
            margin 0 -7px
        }
    }
}

.listing-load-item {
    flex 0 0 20%
    max-width 20%
    padding 0 rem(7px)
    &:nth-child(n+6) {
        margin-top rem(20px)
    }
    &__figure {
        position relative
        height 222px
        background-color $loader_color
        border-radius $border-radius $border-radius 0 0
        &::after {
            content ''
            position absolute
            top 0
            left 0
            width 100%
            height 100%
            background linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 93%, rgba(0, 0, 0, 0.10) 100%)
        }
    }
    &-content {
        padding rem(20px)
        background-color $white
        border-radius 0 0 $border-radius $border-radius
    }
    &__top-meta {
        display flex
        justify-content space-between
        &__item {
            width 60px
            height 10px
            background-color $loader_color
            border-radius $border-radius
        }
    }
    &__title {
        margin-top 20px
        width 90%
        height 20px
        background-color $loader_color
        border-radius $border-radius
    }
    &__text {
        margin-top 20px
        &__item {
            display block
            margin-top 10px
            height 7px
            width 100%
            background-color $loader_color
            border-radius $border-radius
            &:first-child {
                width 90%
            }
            &:nth-child(3) {
                width 75%
            }
            &:last-child {
                width 40%
            }
        }
    }
    &__bottom-meta {
        display flex
        margin-top 30px
        &__item {
            height 15px
            width 45px
            background-color $loader_color
            border-radius $border-radius
            &:not(:first-child) {
                margin-left 3px
            }
        }
    }
}

.listing-wrapper.map-active {
    .listing-load-item {
        &:nth-child(n+4) {
            margin-top rem(20px)
        }
    }
}

.container-search-full .lisner_listings .listing-el.col-custom {
    &.listing-el-promo,
    &.listing-el-small {
        margin-bottom 15px
    }
}

// search page template 1
.container-search-full {
    .lisner_listings {
        .lisner-listing-item {
            margin-bottom 0
        }
    }
    // search page template 1
    &.search-template-1 {
        .lisner_listings {
            .listing-el.col-custom.listing-el-list {
                flex 0 0 33%
                max-width 33%
                margin-bottom 15px
                .lisner-listing-figure {
                    flex 0 0 33%
                    max-width 33%
                }
                .lisner-listing-content {
                    flex 0 0 67%
                    max-width 67%
                }
            }
        }
        // map active
        .map-active {
            .lisner_listings {
                .listing-el.col-custom.listing-el-list {
                    flex 0 0 50%
                    max-width 50%
                }
            }
        }
    }
}

&.listing-box-style {
    // small box loader
    &-small {
        .listing-load-item {
            display flex
            flex 0 0 50%
            max-width 50%
            &:nth-child(n+3) {
                margin-top 20px
            }
            &__figure {
                flex 0 0 20%
                max-width 20%
                height auto
            }
            &-content {
                flex 0 0 80%
                max-width 80%
            }
            &__text,
            &__bottom-meta {
                display none
            }
        }
    }
    // promo box loader
    &-promo {
        .lisner-listing-featured {
            position relative
            bottom auto
            left auto
            margin-bottom 10px
            max-width 70px
        }
        .listing-load-item {
            position relative
            display flex
            &__figure {
                width 100%
                height 265px
                border-radius $border-radius
                overflow hidden
            }
            &-content {
                position absolute
                width 100%
                height 100%
                background-color transparent
            }
            &__top-meta {
                padding-right 15px
                &__item {
                    background-color $white
                }
            }
            &__title {
                position absolute
                bottom 15%
                width 60%
                background-color $white
            }
            &__bottom-meta {
                position relative
                top 35px
            }
            &__bottom-meta__item {
                margin-right -10px
                height 10px
                background-color $white
            }
        }
    }
    // list box loader
    &-list {
        .listing-load-item {
            display flex
            flex 0 0 33%
            max-width 33%
            &:nth-child(n+4) {
                margin-top 20px
            }
            &__figure {
                flex 0 0 45%
                max-width 45%
            }
            &-content {
                flex 0 0 55%
                max-width 55%
            }
            &__top-meta {
                &__item {
                    &:last-child {
                        display none
                    }
                }
            }
            &__bottom-meta {
                &__item {
                    width 80px
                }
            }
        }
    }
}

// search page template 1
.container-search-full.listing-box-style-list .row > {
    // list box style container
    .listing-wrapper.map-active {
        flex 0 0 66.75%
        max-width 66.75%
    }
    .map-wrapper.map-active {
        flex 0 0 33.25%
        max-width 33.25%
    }
}

.search-template-1 {
    .lisner_listings-load {
        margin 0
    }
    &.listing-box-style {
        // list box loader
        &-list {
            .listing-load-item {
                &__figure {
                    flex 0 0 33%
                    max-width 33%
                }
                &-content {
                    flex 0 0 67%
                    max-width 67%
                }
            }
            .map-active {
                .listing-load-item {
                    flex 0 0 50%
                    max-width 50%
                    &:nth-child(n+3) {
                        margin-top 15px
                    }
                }
            }
        }
        // small box loader
        &-small {
            .listing-load-item {
                display flex
                flex 0 0 20%
                max-width 20%
                &:nth-child(n+3) {
                    margin-top 0
                }
                &:nth-child(n+6) {
                    margin-top 15px
                }
            }
            .map-active {
                .listing-load-item {
                    flex 0 0 33%
                    max-width 33%
                    &:nth-child(n+4) {
                        margin-top 15px
                    }
                }
            }
        }
        // promo box loader
        &-promo {
            .map-active {
                .listing-load-item {
                    flex 0 0 33%
                    max-width 33%
                    &:nth-child(n+4) {
                        margin-top 15px
                    }
                }
            }
        }
    }
}

// search page template 2
.search-template-2 {
    &.listing-box-style {
        // grid box loader
        &-grid {
            .listing-load-item {
                flex 0 0 50%
                max-width 50%
                &:nth-child(n+3) {
                    margin-top 20px
                }
            }
        }
        // list box loader
        &-list {
            .listing-load-item {
                display flex
                flex 0 0 100%
                max-width 100%
                &:not(:first-child) {
                    margin-top 20px
                }
            }
        }
        // promo box loader
        &-promo {
            .listing-load-item {
                flex 0 0 50%
                max-width 50%
                &:nth-child(n+3) {
                    margin-top 15px
                }
            }
        }
    }
}

// listing slider
.lisner-listing-slider {
    .slick-dots {
        text-align left
    }
    .slick-prev {
        display none
        visibility hidden
        left -100000px
    }
    .slick-arrow {
        z-index 2
        &::before {
            padding rem(8px)
            font-family 'Material Icons'
            font-size 36px
            background-color $secondary
            border-radius 50%
            box-shadow $box-shadow
            color $theme_color
            opacity .6
        }
        &:hover {
            &::before {
                opacity 1
            }
        }
        &.slick-next {
            top 43%
            right 100px
            width auto
            height auto
            &::before {
                content 'keyboard_arrow_right'
            }
        }
    }
    .col-lg-11 {
        flex 0 0 87%
        max-width 87%
        padding-right 0
    }
    .offset-1 {
        margin-left 13%
    }
    .col-lg-9 {
        padding-right 0
        overflow hidden
    }
    .lisner-listing-item {
        position relative
        margin-right 15px
        width 17vw
        box-sizing border-box
        transition()
        &.slick-active + .slick-active + .slick-active + .slick-active {
            opacity .3
            transition()
            &::after {
                content ''
                position absolute
                top 0
                left 0
                width 100%
                height 100%
                z-index 999
            }
        }
    }
}

.lisner-listings-slick {
    display none
}

:focus {
    outline 0
    border none
    box-shadow none
}

.lisner-listing-item.listing-style-list {
    display flex
    height auto
    .lisner-listing-title {
        margin-bottom 0
    }
    .lisner-listing-figure {
        flex 0 0 45%
        max-width 45%
        height auto
    }
    .lisner-listing-content {
        flex 0 0 55%
        max-width 55%
    }
}

.lisner-listing-item.listing-style-small {
    display flex
    height auto
    .lisner-listing-figure {
        flex 0 0 21.5%
        max-width 21.5%
        height auto
    }
    .lisner-listing-content {
        flex 0 0 78.5%
        max-width 78.5%
        padding rem(20px)
    }
    .lisner-listing-title-block,
    .lisner-listing-title {
        margin-bottom 0
        a {
            font-size 22px
        }
    }
    .lisner-listing-meta {
        &:not(:last-child) {
            margin-bottom 5px
        }
    }
    .lisner-listing-likes {
        top 7px
        right 7px
    }
    .lisner-listing-likes .listing-likes-call i {
        font-size 18px
    }
    .listing-likes-count {
        font-size 12px
    }
    .lisner-listing-preview-call {
        bottom 7px
        right 7px
    }
}

.lisner-listing {
    // listing template 4
    &-template-4 {
        .list-col-6 {
            padding 0 rem(7px)
        }
    }
    // listing template 5
    &-template-5 {
        .list-col-4 {
            padding 0 rem(7px)
        }
    }
    // listing template 6 && 7
    &-template-6,
    &-template-7 {
        .list-col-6 {
            padding 0 rem(7px)
        }
        .lisner-listing-item.listing-style-small {
            .lisner-listing-figure {
                flex 0 0 30%
                max-width 30%
                height auto
            }
            .lisner-listing-meta {
                position relative
                top -5px
            }
            .lisner-listing-content {
                flex 0 0 70%
                max-width 70%
                padding rem(30px) rem(20px)
            }
            .lisner-listing-item.listing-style-small .lisner-listing-meta:not(:last-child) {
                margin-bottom rem(7px)
            }
            .lisner-listing-meta-rating {
                margin-right 0
            }
            .lisner-listing-meta-open {
                margin-right 15px
                margin-left auto
            }
        }
    }
    &-template-7 {
        @media (max-width 425px) {
            .lisner-listing-item.listing-style-small {
                .lisner-listing-meta {
                    &-open {
                        position absolute
                        top -15px
                        right 0
                        margin-right 0
                    }
                    &-rating {
                        position relative
                        top 10px
                    }
                }
            }
        }
    }
    // listing template 8
    &-template-8 {
        .list-col-6 {
            padding 0 rem(10px)
            &:nth-child(n+3) {
                margin-top rem(20px)
            }
        }
    }
    // listing template 9
    &-template-9 {
        .col-lg-9 {
            .row {
                margin-right rem(-10px)
                margin-left (-10px)
            }
        }
        div[class^=col-sm-4].list-col-4 {
            padding 0 rem(10px)
        }
        .lisner-listing-item-promo {
            .widget-promo-wrapper {
                height 440px
            }
            .widget-promo-content {
                padding rem(20px) rem(20px) rem(40px)
            }
        }
        &:nth-child(n+4) {
            margin-top rem(20px)
        }
    }
    &-template-8,
    &-template-9 {
        .lisner-listing-item-promo {
            border-radius $border-radius
            overflow hidden
            .lisner-listing-preview-call {
                top rem(20px)
                bottom auto
                z-index 2
                i {
                    font-size 24px
                }
            }
        }
        .lisner-listing-featured {
            position absolute
            top 23px
            bottom auto
            left 23px
            border-color $white
            color $white
        }
    }
    &-meta-open + .lisner-listing-price-range {
        top 0
        margin-left rem(10px)
        border-right 0
    }
}

.widget-promo-wrapper {
    .lisner-listing-featured {
        position absolute
        top 23px
        bottom auto
        left 23px
        border-color $white
        color $white
    }
}

.lisner-listing-item-promo {
    &:hover {
        img {
            opacity .9
            transition()
        }
        .listing-preview-call {
            span {
                left 0
                opacity 1
                transition(.5s)
            }
        }
    }
}

.listing-brand {
    position absolute
    top -45px
    left 0
    padding 0
    width 50%
    background-image url('assets/images/logo_horiz_small_bg.png')
    background-repeat no-repeat
    &__logo {
        position relative
        top 7px
        left 20px
        display flex
        align-items center
        justify-content center
        padding 5px
        width 55px
        height 55px
        border-radius 50%
        img {
            border-radius 50%
        }
    }
    &-list {
        top 0
        left -50px
        height 100%
        width 50px
        background-image url('assets/images/logo_bg.png')
        .listing-brand__logo {
            top 50%
            left 5px
            width 55px
            hegiht 55px
            transform translateY(-50%)
        }
    }
    &-promo {
        position relative
        top auto
        left auto
        background transparent
    }
}

.lisner-listing-item-promo .widget-promo-content.has-logo {
    flex-wrap wrap
    flex-direction row
    justify-content space-between
    .listing-brand-promo {
        flex 0 0 20%
        max-width 20%
        align-self flex-end
        .listing-brand__logo {
            top -12px
            left auto
        }
    }
    .widget-promo-content-info {
        flex 0 0 80%
        max-width 80%
        align-self flex-end
    }
}