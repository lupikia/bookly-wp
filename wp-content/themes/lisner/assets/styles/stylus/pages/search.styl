/*
 |--------------------------------------------------------------------------
 | 17. Pages / Search Page Styles
 |--------------------------------------------------------------------------
 */

.search-page-form + .page-header-form {
    display none
}

.page-header-form,
.search-page-form {
    .input-group-results {
        ul {
            li {
                font-size 14px
                font-weight 400
                text-transform none
                span {
                    span {
                        font-weight 700
                        text-transform capitalize
                    }
                }
                i {
                    font-size 11px
                }
            }
        }
    }
}

.container-search {
    background-color $theme_light
    padding-top rem(210px)
    padding-bottom rem(45px)
    &.loading {
        height 100vh
    }
    &.doing-ajax {
        z-index 0
    }
    &:not(.container-search-full) {
        div[class^=col-] {
            @media (min-width: 1440px) {
                flex 0 0 40.463%
                max-width 40.463%
            }
            @media (min-width: 1024px) {
                flex 0 0 50%
                max-width 50%
            }
            @media (min-width: 576px) {
                padding 0 rem(45px)
            }
        }
        .lisner_listings {
            .row.row-cst-margin {
                margin 0 -25px
            }
            .listing-el {
                margin-bottom rem(20px)
                padding 0 7px
            }
        }
    }
    // template full width
    &-full {
        .row {
            > .listing-wrapper {
                flex 1 1 100%
                max-width 100%
                padding 0 rem(15px)
                &.map-active {
                    flex 1 1 60.85%
                    max-width 60.85%
                    .listing-load-item {
                        flex 0 0 33%
                        max-width 33%
                    }
                    @media (max-width: 1440px) {
                        flex 1 1 51.5%
                        max-width 51.5%
                    }
                }
            }
        }
        .lisner_listings {
            .container-fluid {
                > .row {
                    margin-right rem(-10px)
                    margin-left rem(-10px)
                }
            }
            .listing-el {
                margin-bottom rem(30px)
                &.col-custom {
                    padding-right rem(7px)
                    padding-left rem(7px)
                    @media (min-width: 1024px) {
                        flex 1 1 25%
                        max-width 25%
                    }
                    @media (min-width: 1440px) {
                        flex 1 1 20%
                        max-width 20%
                    }
                    &.col-custom-map {
                        @media (min-width: 1024px) {
                            flex 1 1 50%
                            max-width 50%
                        }
                        @media (min-width: 1440px) {
                            flex 1 1 33.3333333%
                            max-width 33.3333333%
                        }
                    }
                }
            }
        }
    }
}

// fixed elements
.map-wrapper {
    position fixed
    top 210px
    right 0
    bottom 0
    display flex
    flex 0 0 39%
    max-width 39%
    width 100%
    padding-right 0
    border-radius 0
    overflow hidden
    z-index 1
    @media (max-width: 1440px) {
        flex 0 0 49%
        max-width 49%
    }
    &.hidden {
        visibility hidden
        height 0
    }
    .map-search {
        position relative
        width 100%
        border-radius 0
        overflow hidden
    }
}

.page-template-page-search {
    background-color $theme_light
    header {
        position fixed
        top 0
        width 100%
        z-index 9999
    }
    .container-form {
        position fixed
        top 98px
        width 100%
        background-color $white
        z-index 8
    }
    .listing-wrapper {
        position relative
        background-color $theme_light
    }
    &.logged-in-admin {
        header {
            top 32px
        }
        .container-form {
            top 130px
        }
    }
}

// search filters
.form-ajax.explore {
    .form {
        &-wrapper {
            display flex
            align-items center
            justify-content space-between
            padding-top rem(20px)
            padding-bottom rem(20px)
        }
        &-group {
            margin-right rem(10px)
            margin-bottom 0
        }
    }
}

// form ajax chosen
.chosen-container-single .chosen-single {
    display flex
    align-items center
    justify-content center
    padding 0 rem(15px)
    height 40px
    background transparent
    border 1px solid
    border-color $border-color
    border-radius $border-radius
    box-shadow none
    span {
        margin-right 0
        font-size 14px
        color $font_header_color
    }
    > div {
        display none
    }
}

.chosen-container .chosen-single.active,
.chosen-container-active.chosen-with-drop .chosen-single {
    background $theme_light
    border 1px solid
    border-color $border-color
    border-radius $border-radius
    box-shadow none
}

.chosen-container.chosen-with-drop .chosen {
    &-drop {
        top calc(100% + 22px)
        padding rem(10px)
        width 250px
        border 1px solid
        border-top 0
        border-color $border-color
        box-shadow 0 2px 5px 1px rgba(0, 0, 0, .1)
        font-size 15px
    }
    &-results {
        margin 0
        padding 5px 0
        li {
            padding rem(10px) rem(20px)
            color $font_color
            &.result-selected {
                display none
            }
            &.highlighted {
                background none
                background-color #f3f3f3
                color $font_color
            }
        }
    }
}

.chosen-select {
    height 40px
    padding 0 rem(25px) 0 rem(46px)
    border-color $border-color
    border-radius $border-radius
    font-size 14px
    -webkit-appearance none
    -moz-appearance none
    &.chosen-orderby {
        padding 0 rem(10px) 0 rem(25px)
    }
    @media (max-width: 768px) {
        padding 0 rem(25px) 0
    }
}

.reset-filters-call {
    display none
    &.btn-group-toggle {
        .btn {
            i {
                margin-right 0
            }
        }
    }
}

@media (max-width: 768px) and (min-width: 600px) {
    .btn-group-toggle.reset-filters-call {
        .btn-explore-reset {
            i {
                margin-right 0
            }
            span {
                display none
            }
        }
    }
}

.select-wrapper,
.select-wrapper {
    position relative
    &::before {
        position absolute
        top 7px
        left 10px
        content '\e227'
        margin-right rem(3px)
        font-family 'Material Icons'
        font-size 18px
        color $font_header_color
        z-index 1
        pointer-events none
    }
}

.select-wrapper-orderby {
    &::before {
        content '\e164'
        left auto
        right 13px
    }
}

#price-range {
    & + .chosen-container {
        .chosen-single {
            padding-left rem(9px)
            &::before {
                content '\e227'
                margin-right rem(3px)
                font-family 'Material Icons'
                font-size 18px
                color $font_header_color
            }
        }
    }
}

#search-orderby {
    & + .chosen-container {
        .chosen-single {
            &::after {
                content '\e164'
                margin-left rem(7px)
                font-family 'Material Icons'
                font-size 18px
                color $font_header_color
            }
        }
    }
}

.btn-group-toggle {
    .btn {
        padding rem(8px) rem(15px) rem(8px) rem(13px)
        i {
            margin-right rem(8px)
            font-size 18px
        }
        span + i {
            margin-right 0
            margin-left rem(10px)
        }
        &-explore-parent {
            padding-left rem(10px)
        }
    }
    .btn-explore,
    .btn-explore-parent {
        position relative
        display flex
        align-items center
        height 40px
        border 1px solid $border-color
        box-shadow none
        font-size 14px
        color $font_header_color
        &:active,
        &.active {
            background-color $theme_light
        }
    }
}

.hero-search-field {
    position relative
}

.page-header-form,
.search-page-form {
    position relative
    display flex
    flex 0 0 27%
    max-width 27%
    .hero-search-field:not(.hero-search-field-button) {
        position static
        width 100%
        &:nth-child(2) {
            position static
            margin-left -15px
            .form-group {
                .input-group-wrapper {
                    position static
                }
            }
        }
        .form-group {
            margin-bottom 0
            .input-group-wrapper {
                position relative
                input {
                    height rem(40px)
                    font-size 14px
                }
            }
        }
    }
    .taxonomy-selected-inner {
        .taxonomy-item {
            font-size 14px
        }
    }
    .taxonomy-add {
        padding .375rem .5rem
        &-icon {
            margin-right 0
        }
        &-name {
            display none
        }
    }
    .hero-search-field {
        cursor pointer
        transition()
        &:nth-child(2) {
            &::before {
                left 4px
            }
        }
        @media (max-width: 1440px) {
            .form-group {
                .input-group-wrapper {
                    padding 0 rem(13px)
                }
                .input-group-label {
                    margin-right rem(3px)
                    font-size 15px
                }
            }

            .taxonomy-selected-item {
                font-size 13px
            }

            .taxonomy-selected-inner .taxonomy-add {
                margin-right 0
                padding rem(5px) rem(6px)
            }

            &.small {
                width 16%
                cursor pointer
                transition()
                &:nth-child(2) {
                    width 35%
                    &::before {
                        left 2px
                    }
                }
            }

            .main-search-results ul li.search-default-listing a .search-default-listing-wrapper span {
                font-size 14px
            }

            input {
                font-size 14px
                &::-moz-placeholder,
                &:-moz-placeholder,
                &:-ms-input-placeholder {
                    font-size 14px
                }
            }
        }
    }
}

/* more filters */
.more-filters {
    display none
    position absolute
    top calc(100% - 5px)
    background-color $white
    width 50%
    left 50%
    transform translateX(-50%)
    padding rem(20px) rem(25px)
    border-top 1px solid
    border-color $border-color
    border-radius $border-radius $border-radius
    box-shadow $box-shadow-listing
    @media (max-width: 1460px) {
        height 400px
        overflow-y scroll
    }
    @media (max-width: 768px) {
        height 300px
    }
    &-notification {
        display none
        position absolute
        top 11px
        right 16px
        align-items center
        justify-content center
        width 18px
        height 16px
        background-color $primary
        border-radius $border-radius
        line-height 1
        font-size 12px
        color $white
        z-index 1
        &.active {
            display flex
        }
    }
    &.active {
        display block
    }
    &-item {
        &:not(:last-child) {
            margin-bottom rem(15px)
        }
        &-wrapper {
            display flex
            flex-wrap wrap
            align-items center
        }
        &-inner {
            flex 1 1 16.66666667%
            max-width 16.66666667%
            margin-bottom rem(7px)
        }
    }
    &-title-wrapper {
        display flex
        align-items edn
        a {
            position relative
            top 2px
            margin-left rem(4px)
            font-size 14px
            i {
                position relative
                top 2px
                margin-right 2px
                font-size 14px
                line-height 1.4
            }
            &:hover {
                color $primary
                text-decoration none
            }
        }
    }
    &-title {
        font-size 22px
        font-weight 700
    }
    .custom-control-label {
        font-size 16px
        color #585058
    }
}

.form-wrapper-inner {
    display flex
}

.form-group-search-call {
    display none
}

.more-filters-close {
    display none
    position absolute
    top 10px
    right 20px
    line-height 1
    padding 0
    background-color transparent
    border none
}

// orderby styling
.order-filters-call {
    position relative
    margin-right rem(10px)
}

.orderby-group {
    display none
    position absolute
    margin-top 15px
    margin-right 0
    padding rem(30px) rem(25px)
    min-width 250px
    background-color $white
    border-radius $border-radius
    box-shadow $box-shadow-listing
    &.active {
        display block
    }
    &-item {
        &-wrapper {
            display flex
            align-items center
            justify-content space-between
            &:not(:last-child) {
                margin-bottom rem(15px)
            }
            i {
                font-size 18px
                color $primary
            }
        }
        .divider {
            font-size 14px
        }
        .orderby-item {
            position relative
            input {
                display block
                position absolute
                top 0
                right 0
                bottom 0
                left 0
            }
            label {
                margin 0
                padding 4px 8px
                width 70px
                border 1px solid
                border-color $border-color
                border-radius $border-radius
                font-size 16px
                text-align center
                color $font_header_color
                cursor pointer
                &:hover {
                    background-color $theme_input_color
                }
            }
            input[type=radio] {
                opacity 0
                z-index 100
                &:checked + label {
                    background-color $theme_input_color
                }
            }
        }
    }
}

// select 2 styling
.explore {
    .select2-container {
        &.activated {
            background-color $theme_input_color
        }
    }
    @media (min-width: 960px) {
        #price-range {
            padding-right rem(20px)
            padding-left rem(30px)
            height rem(40px)
            border-color $border-color
            border-radius $border-radius
            font-size 14px
            appearance none
            -webkit-appearance none
        }
    }
    .select2-container--focus {
    }
    .select2-container--default {
        .select2-selection {
            &:focus {
                outline 0
                box-shadow none
            }
            i {
                display none
            }
            &--single {
                padding 0
                height rem(40px)
                background-color transparent
                border-color $border-color
            }
            &__placeholder,
            &__rendered {
                font-size 14px
                line-height 1.1
                color $font_header_color
            }
            &__rendered {
                padding-left rem(30px)
            }
            &__arrow {
                display none
            }
        }
    }
}

.select2-container {
    &--open {
        .select2-dropdown {
            &--below {
                min-width 250px
                margin-top 15px
                padding 15px
                border none
                border-radius $border-radius
                box-shadow $box-shadow-listing
                .select2-results {
                    &__option {
                        display flex
                        justify-content space-between
                        align-items center
                        padding 2px 10px
                        &:not(:first-child) {
                            margin-top 7px
                        }
                        .select2 {
                            &-icons {
                                display flex
                                i {
                                    margin-right -7px
                                    font-size 18px
                                    color $primary
                                }
                            }
                            &-text {
                                color $font_header_color
                            }
                        }
                        &[aria-selected=true],
                        &--highlighted {
                            background-color $theme_input_color
                            border-radius $border-radius
                            color $font_color
                            .select2 {
                                &-icons {
                                    i {
                                        color $primary
                                    }
                                }
                                &-text {
                                    color $font_header_color
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

.explore {
    .select2-container--open {
        background-color $theme_input_color
    }
    .select2-container--default.select2-container--open.select2-container--below .select2-selection--single,
    .select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple {
        border-radius $border-radius
    }
}

.search-page-form {
    .main-search-results,
    .input-group-results {
        top calc(100% - 2px)
        width 100%
        overflow hidden
        overflow-y auto
    }
}

.pbs-navbar .input-group-results ul li.no-results, .pbs-navbar .main-search-results ul li.no-results {
    overflow hidden
}

.location-clear,
.taxonomy-clear {
    display none
    position relative
    top 2px
    line-height 1
    z-index 1
    i {
        font-size 18px
    }
    &:hover {
        color $primary
    }
    &.active {
        display block
    }
}

.input-group-wrapper .loader {
    z-index 2
}

// search-template-2
.search-template-2 {
    padding-top 100px
    &:not(.container-search-full) div[class^=col-] {
        flex 0 0 40%
        max-width 40%
        padding 0
        .lisner_listings {
            padding 0 45px
        }
    }
    .form-group-map {
        display none
        @media (max-width 1030px) {
            display flex
        }
    }
    .col-cst-padding {
        padding-right 0
        padding-left 0
    }
    .filters {
        position relative
        margin-bottom 40px
        padding 10px 45px
        background-color $white
        z-index 9
    }
    .more-filters {
        width 100%
    }
    .map-wrapper.map-active {
        top 98px
        flex 0 0 60%
        max-width 60%
    }
    .listing-el-list {
        padding 0
        flex 0 0 100%
        max-width 100%
        .listing-style-list {
            margin-bottom 0
        }
    }
}

.logged-in-admin .search-template-2 .map-wrapper.map-active {
    top 132px
}

.listing-el {
    .lisner-listing-item-promo {
        border-radius $border-radius
        overflow hidden
        .lisner-listing-preview-call {
            top rem(20px)
            bottom auto
            z-index 2
            i {
                font-size 24px
            }
        }
    }
}

.container-search:not(.container-search-full) .lisner_listings .listing-el {
    &-small {
        margin-bottom 0
    }
}

// clear filter
.filter-clear-wrapper {
    display flex
    justify-content flex-end
    .filter-clear {
        display flex
        align-items center
        font-size 12px
        line-height 1
        &:hover {
            color $primary
            text-decoration none
        }
        i {
            margin-right 3px
            font-size 14px
        }
        &.hidden {
            display none
        }
    }
}

#select2-price-range-results {
    li[aria-selected=false] + li[aria-selected=false] + li[aria-selected=false] + li[aria-selected=false] + li[aria-selected=false] {
        display none
    }
    li:last-child {
        display inline-
        justify-content center
        align-items center
        float right
        background-color transparent
        &.select2-results__option--highlighted,
        &.select2-results__option[aria-selected=true] {
            background-color transparent
        }
        &.select2-results__option[aria-selected=false] {
            display inline-flex
        }
        &.select2-results__option[aria-selected=true] {
            display none
        }
        .select2 {
            &-icons {
                i {
                    margin-right 3px
                    font-size 14px
                    color $primary
                }
            }
            &-text {
                font-size 12px
                color $primary
            }
        }
    }
}

// search map preloader
.map-preloader {
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    background-color $theme_light
    z-index 9999
    .loader {
        position absolute
        .path {
            stroke #333
        }
    }
}

.search-page-form, .page-header-form {
    .location-clear.active, .taxonomy-clear.active {
        position absolute
        top 12px
        right 10px
    }
}

.page-header-form {
    .input-group-results {
        width calc(89% + 2px)
    }
    .location-clear.active {
        right 13%
    }
}