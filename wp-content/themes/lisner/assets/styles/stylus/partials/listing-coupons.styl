/*
 |--------------------------------------------------------------------------
 | 8b. Listing Coupons Styles
 |--------------------------------------------------------------------------
 */
/* coupons dashboard */
.lisner-coupons {
    .lisner-coupon {
        position relative
        display flex
        flex-wrap wrap
        padding 20px
        border 1px solid
        border-left 5px solid
        border-color $border-color
        border-radius $border-radius
        overflow hidden
        &:not(:first-child) {
            margin-top 15px
        }
        &.upcoming,
        &.active {
            border-left-color $success-font
        }
        &.started,
        &.expired {
            border-left-color $error
        }
        &-icon {
            flex 0 0 9%
            max-width 9%
            font-size 44px
            text-align left
            opacity .1
            &.rotate {
                transform rotate(140deg)
            }
        }
        .lisner-coupon-title,
        .lisner-coupon-type,
        .lisner-coupon-status,
        .lisner-coupon-actions {
            flex 0 0 20%
            max-width 20%
            font-weight 600
            color $font_header_color
        }
        .lisner-coupon-title {
            flex 0 0 40%
            max-width 40%
        }
        .lisner-coupon-actions {
            flex 0 0 10%
            max-width 10%
        }
        &-title,
        &-type,
        &-status {
            display flex
            flex-direction column
        }
        .lighter {
            font-size 12px
            font-weight 400
            color $font_color_light
        }
        &-actions {
            ul {
                display flex
                align-items center
                justify-content flex-end
                li {
                    a {
                        position relative
                        display flex
                        padding 2px
                        background-color $white
                        border 1px solid
                        border-color $border-color
                        border-radius 50%
                        font-size 18px
                        color $font_color
                        &:hover {
                            text-decoration none
                        }
                    }
                }
            }
        }
    }
}

.lisner-coupon-title {
    a.title {
        color $font_header_color
        &:hover {
            text-decoration underline
            color $font_header_color
        }
    }
}

// coupon form
.lisner-coupon-form,
.lisner-wc-fields {
    flex 0 0 100%
    max-width 100%
    margin-top 30px
    padding-top 30px
    border-color $border-color
    form {
        display flex
        flex-wrap wrap
        justify-content space-between
        align-items flex-start
    }
    .input-group {
        flex 0 0 49%
        max-width 49%
        &-full {
            flex 0 0 100%
            max-width 100%
        }
    }
    .coupon-type-wrapper {
        flex 0 0 100%
        max-width 100%
        .input-group {
            flex 0 0 100%
            max-width 100%
        }
    }
    label {
        display flex
        flex 0 0 100%
        max-width 100%
    }
    textarea {
        min-height 150px
    }
    select.coupon-select {
        display block
        max-width 100%
        width 100%
    }
    .coupon-image-wrapper {
        flex 0 0 100%
        max-width 100%
    }
    .lisner-image-uploader,
    .lisner-image,
    .event-image-uploader,
    .event-image,
    .event-uploader,
    .coupon-uploader,
    .coupon-print-uploader {
        display flex
        align-items center
        padding: .1875rem .875rem
        max-width 120px
        background-color $theme_input_color
        border 1px solid
        border-color $border-color
        border-radius $border-radius
        font-size 14px
        color $font_header_color
        &:hover {
            text-decoration none
        }
    }
    .event-print-image,
    .coupon-print-image {
        display block
        position relative
        margin-top 10px
        margin-bottom 10px
        width 200px
        height 120px
        background-color $theme_color
        border-radius $border-radius
        overflow hidden
        &.hidden {
            display none
        }
        &:hover {
            img {
                opacity .8
            }
            .remove-style,
            .remove-image {
                opacity 1
            }
        }
        .remove-style,
        .remove-image {
            position absolute
            top 50%
            left 50%
            transform translate(-50%, -50%)
            font-size 28px
            color $white
            cursor pointer
            z-index 99
            opacity 0
        }
        img {
            position absolute
            top 0
            left 0
            width 100%
            height 100%
            object-fit cover
        }
    }
    .form-coupon-actions {
        display flex
        justify-content flex-end
        flex 0 0 100%
        max-width 100%
        a {
            display flex
            justify-content center
            align-items center
            padding 0 10px
            box-shadow none
            color #947d99
            &:active {
                background-color #f7f7f7
            }
        }
        button {
            margin-right auto
        }
    }
}

.lisner-listing-table-header + .lisner-coupon-form {
    margin-top 0
}

.lisner-listing-table-header a.return {
    i {
        margin-right 7px
        margin-left 0
        font-size 17px
    }
}

/* coupons display */
.listing-single {
    &-coupons {
        margin -18px -25px
        overflow hidden
    }
    &-coupon {
        position relative
        padding 35px 40px
        &:not(:first-child) {
            border-top 1px solid
            border-color $border-color
        }
        .coupon-discount {
            position absolute
            top 0
            left 0
            padding 5px 30px
            background-color $success
            border-radius 0 $border-radius $border-radius 0
            font-size 24px
            color $white
            & + {
                .coupon-title {
                    margin-top 30px
                }
            }
        }
        .coupon-title {
            h4 {
                margin-bottom 0
            }
        }
        .coupon-button {
            position relative
            margin 0 25px
            margin-top 25px
            height 54px
            background-color #e0e1e3
            border-radius $border-radius
            text-align center
            overflow hidden
            &::before {
                content ''
                position absolute
                top -52px
                right -48px
                width 80px
                height 80px
                background-color #e0e1e3
                border 25px solid #e0e1e3
                border-radius $border-radius
                transform rotate(40deg)
                z-index 2
                cursor pointer
            }
            a {
                position relative
                display flex
                justify-content center
                align-items center
                width 100%
                height 100%
                font-size 20px
                font-weight 400
                background-color #0072bb
                color $white
                overflow hidden
                &::before {
                    content ''
                    position absolute
                    top -42px
                    right -40px
                    width 80px
                    height 80px
                    background-color darken(#0072bb, 30%)
                    border-radius $border-radius
                    transform rotate(0)
                    z-index 1
                }
                &:hover {
                    text-decoration none
                    color $white
                }
                i {
                    position absolute
                    left 20px
                    font-size 22px
                    color darken(#0072bb, 30%)
                }
            }
        }
        // coupon timer
        .coupon-countdown {
            display flex
            justify-content center
            margin 0 30px
            margin-top 30px
            &-item {
                position relative
                display flex
                margin 0 2%
                flex 0 0 23%
                max-width 23%
                justify-content center
                align-items center
                padding 15px
                background-color #eef5ff
                border 1px solid
                border-color #c6ccdc
                border-radius $border-radius
                &:not(:last-child) {
                    &::after {
                        content ':'
                        position absolute
                        top 50%
                        right -10px
                        transform translateY(-50%)
                        font-size 28px
                        color #003f67
                    }
                }
                span {
                    display flex
                    align-items flex-end
                    font-size 32px
                    line-height 1
                    color #003f67
                    span {
                        font-size 18px
                    }
                }
            }
        }
    }
}

// coupon modal
.modal {
    .coupon-title {
        text-align center
    }
    .coupon-button {
        position relative
        display flex
        justify-content center
        align-items center
        margin 0 25px
        margin-top 25px
        height 54px
        background-color $theme_input_color
        border 2px dashed
        border-color $border-color
        border-radius $border-radius
        text-align center
        font-size 28px
        font-weight 600
        color $font_header_color
        cursor pointer
        &.copy {
            position relative
            i {
                position absolute
                left 20px
                color $border-color
            }
        }
    }
    .coupon-description {
        display block
        margin-top 5px
        text-align center
        font-size 14px
        color $font_color_light
    }
    .coupon-content {
        margin-top 20px
        text-align center
        color $font_color
    }
}

@media print {

    div.coupon-to-print {
        display block
        margin 20px 0
        background-color transparent
        page-break-after always
        page-break-before always
        img {
            background-color transparent
            border 0
        }
    }
}

.coupon-count-active,
.coupon-count {
    margin 0 3px
    font-size 12px
    color #947d99
}

.coupon-count-active {
    color $success
}

.coupon-count {
    &::before {
        content '/'
        position relative
        left -3px
    }
}

.lisner-profile-content p.demo-notice {
    display flex
    margin-top 10px
    margin-bottom 0
    width 100%
    font-size 13px
    color $font_color_light
}

.coupon-description {
    display flex
    flex 0 0 100%
    max-width 100%
    margin-top 5px
    margin-left 23px
    font-size 12px
    color $font_color_light
}

// listing box coupon label display
.lisner-listing-coupons {
    position absolute
    top 25px
    left 0
    padding 3px 13px
    background-color $primary
    border-radius 0 $border-radius $border-radius 0
    font-weight 600
    color $white
}

.lisner-wc-fields {
    padding-top 0
    .coupon-print-image {
        display flex
        justify-content center
        align-self center
        img {
            position relative
            width auto
            height auto
            object-fit contain
        }
    }
}

// events
.event-map {
    width 100%
    .input-group {
        flex 0 0 100%
        max-width 100%
    }
    .event-map-instance {
        min-height 360px
        border-radius $border-radius
    }
}
